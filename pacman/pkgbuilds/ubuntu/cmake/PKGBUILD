# Maintainer: Zelun Kong <zelun.kong@outlook.com>

pkgname=cmake
pkgver=3.31.8
pkgrel=2
epoch=
pkgdesc="A powerful software build system"
arch=('x86_64')
url="https://www.cmake.org/"
license=('KZL')
source=(git+https://github.com/Kitware/CMake.git#tag=v$pkgver)
sha256sums=('SKIP')

build() {
  cd CMake

  ./bootstrap \
    --prefix=$PREFIX \
    --datadir=share/cmake \
    --docdir=share/doc/cmake \
    --mandir=share/man \
    --parallel=$(nproc)

  make
}

package() {
  cd CMake

  make DESTDIR="$pkgdir" install
}
